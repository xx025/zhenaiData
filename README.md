# 珍爱网征婚信息爬取和分析


## 分析: 
  1. 无论是城市和链接页面还是记录页面都有两种抓取方式,第一种是从`<body>`标签内第二种是`<script>`标签内  
  2. 获取城市及链接采用第一种,获取记录信息使用第二种
  3. 未登录用户只能查看每个城市的前6页大约120条,程序可搜索并爬取了所有城市(470个)近54000(去重)条
    
## 运行
1. 在运行之前需要搭建好`Mysql`数据库,并创建对应的表,sql语句在下面,对应的数据库账户和密码在`connectMysql/MYSQKJDBC`文件更改
2. 首先运行`Tools/getcitylist.py`获取页面链接并写入数据库`citylink`表
3. 再运行`GetMerberInfo.py`获取记录信息并写入数据库`memberdata`表


## 其他
1. 要注意的是性别列值1表示女性,值0表示男性
2. 请更改`ToolsMy.py`headers
3. 连接数据库请利用MySQLJDBC工具类


### 创建数据库和表格SQL语句
1. 创建数据库和表请运行`创建数据库和表.sql`脚本，当然在此之前你需要配置好MySQL数据库

### 向数据库导入数据
1. 导入数据请运行`数据库导入数据.sql`脚本,当然在此之前你需要创建好数据库和表


更多请到子文件夹下查看